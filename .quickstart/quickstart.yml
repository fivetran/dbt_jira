database_key: jira_database
schema_key: jira_schema

dbt_versions: ">=1.3.0 <3.0.0"

table_variables:
  jira_using_sprints:
    - sprint
  jira_using_components:
    - component
  jira_using_versions:
    - version
  jira_using_priorities:
    - priority
  jira_using_teams:
    - team

  _fivetran_quickstart_issue_link:
    - issue_link

destination_configurations:
  databricks:
    dispatch:
      - macro_namespace: dbt_utils
        search_order: [ 'spark_utils', 'dbt_utils' ]

public_models: [
  "jira__daily_issue_field_history",
  "jira__daily_sprint_issue_history",
  "jira__user_enhanced",
  "jira__issue_enhanced",
  "jira__project_enhanced",
  "jira__sprint_enhanced"
]

supported_vars:
  issue_field_history_columns:
    type: list
    description: "Issue field names from `ISSUE_FIELD_HISTORY` and `ISSUE_MULTISELECT_HISTORY` tracked daily in `jira__daily_issue_field_history` and `jira__timestamp_issue_field_history`. The latest value of each field will be surfaced in `jira__issue_enhanced` as well"
    display_name: "Issue Field History Columns"

  jira_issue_history_buffer:
    type: integer
    value: 1
    description: "Number of weeks that `jira__daily_issue_field_history` and `jira__daily_sprint_issue_history` will track for each issue after it has been closed"
    display_name: "Post-Close Issue History Extension (Weeks)"

  lookback_window:
    type: integer
    value: 1
    description: "Number of weeks into the past that the models will look back to capture late-arriving records on incremental runs"
    display_name: "Incremental Run Lookback Window (Days)"

